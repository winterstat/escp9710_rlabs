<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ESCP 9710 R Labs - 4&nbsp; Model Evaluation and Comparison</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./confirmatoryfactoranalysis.html" rel="next">
<link href="./indirecteffects.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">ESCP 9710 R Labs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://winterstat.github.io/" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://winterstat.github.io/people.html" rel="" target="">
 <span class="menu-text">People</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://winterstat.github.io/publications.html" rel="" target="">
 <span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://winterstat.github.io/talks.html" rel="" target="">
 <span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-r-labs" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">R Labs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-r-labs">    
        <li>
    <a class="dropdown-item" href="https://winterstat.github.io/escp8082_rlabs" rel="" target="">
 <span class="dropdown-text">ESCP 8082 Foundations of Measurement</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.twitter.com/winterstat" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.github.com/winterstat" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./modelevaluation.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Model Evaluation and Comparison</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gettingstarted.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting Started</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pathanalysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Path Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./indirecteffects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Indirect Effects</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modelevaluation.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Model Evaluation and Comparison</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./confirmatoryfactoranalysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Confirmatory Factor Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sem.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Structural Equation Modeling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./measurementinvariance_cont.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Measurement Invariance Testing with Continuous Indicators</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sam.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Structural after Measurement Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./latentgrowthmodel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Latent Growth Modeling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./measurementinvariance_ord.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Measurement Invariance Testing with Ordinal Indicators</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lpa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Latent Profile Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lca.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Latent Class Analysis</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#loading-r-packages" id="toc-loading-r-packages" class="nav-link active" data-scroll-target="#loading-r-packages"><span class="header-section-number">4.1</span> Loading R Packages</a></li>
  <li><a href="#loading-data" id="toc-loading-data" class="nav-link" data-scroll-target="#loading-data"><span class="header-section-number">4.2</span> Loading Data</a></li>
  <li><a href="#model-1" id="toc-model-1" class="nav-link" data-scroll-target="#model-1"><span class="header-section-number">4.3</span> Model 1</a>
  <ul class="collapse">
  <li><a href="#model-specification" id="toc-model-specification" class="nav-link" data-scroll-target="#model-specification">Model Specification</a></li>
  <li><a href="#model-estimation" id="toc-model-estimation" class="nav-link" data-scroll-target="#model-estimation">Model Estimation</a></li>
  <li><a href="#model-evaluation" id="toc-model-evaluation" class="nav-link" data-scroll-target="#model-evaluation">Model Evaluation</a></li>
  </ul></li>
  <li><a href="#model-2" id="toc-model-2" class="nav-link" data-scroll-target="#model-2"><span class="header-section-number">4.4</span> Model 2</a>
  <ul class="collapse">
  <li><a href="#model-respecification" id="toc-model-respecification" class="nav-link" data-scroll-target="#model-respecification">Model Respecification</a></li>
  <li><a href="#model-evaluation-1" id="toc-model-evaluation-1" class="nav-link" data-scroll-target="#model-evaluation-1">Model Evaluation</a></li>
  </ul></li>
  <li><a href="#model-comparison-of-model-1-and-model-2" id="toc-model-comparison-of-model-1-and-model-2" class="nav-link" data-scroll-target="#model-comparison-of-model-1-and-model-2"><span class="header-section-number">4.5</span> Model Comparison of Model 1 and Model 2</a></li>
  <li><a href="#model-3" id="toc-model-3" class="nav-link" data-scroll-target="#model-3"><span class="header-section-number">4.6</span> Model 3</a>
  <ul class="collapse">
  <li><a href="#model-respecification-1" id="toc-model-respecification-1" class="nav-link" data-scroll-target="#model-respecification-1">Model Respecification</a></li>
  <li><a href="#model-evaluation-2" id="toc-model-evaluation-2" class="nav-link" data-scroll-target="#model-evaluation-2">Model Evaluation</a></li>
  </ul></li>
  <li><a href="#model-comparison-of-model-2-and-model-3" id="toc-model-comparison-of-model-2-and-model-3" class="nav-link" data-scroll-target="#model-comparison-of-model-2-and-model-3"><span class="header-section-number">4.7</span> Model Comparison of Model 2 and Model 3</a></li>
  <li><a href="#model-4" id="toc-model-4" class="nav-link" data-scroll-target="#model-4"><span class="header-section-number">4.8</span> Model 4</a>
  <ul class="collapse">
  <li><a href="#model-respecification-2" id="toc-model-respecification-2" class="nav-link" data-scroll-target="#model-respecification-2">Model Respecification</a></li>
  <li><a href="#model-evaluation-3" id="toc-model-evaluation-3" class="nav-link" data-scroll-target="#model-evaluation-3">Model Evaluation</a></li>
  </ul></li>
  <li><a href="#model-comparison-of-model-3-and-model-4" id="toc-model-comparison-of-model-3-and-model-4" class="nav-link" data-scroll-target="#model-comparison-of-model-3-and-model-4"><span class="header-section-number">4.9</span> Model Comparison of Model 3 and Model 4</a></li>
  <li><a href="#parameter-estimate-interpretation" id="toc-parameter-estimate-interpretation" class="nav-link" data-scroll-target="#parameter-estimate-interpretation"><span class="header-section-number">4.10</span> Parameter Estimate Interpretation</a></li>
  <li><a href="#comparing-groups" id="toc-comparing-groups" class="nav-link" data-scroll-target="#comparing-groups"><span class="header-section-number">4.11</span> Comparing groups</a>
  <ul class="collapse">
  <li><a href="#specifying-a-more-restrictive-model" id="toc-specifying-a-more-restrictive-model" class="nav-link" data-scroll-target="#specifying-a-more-restrictive-model">Specifying a More Restrictive Model</a></li>
  <li><a href="#model-comparison-using-the-chi-square-difference-test" id="toc-model-comparison-using-the-chi-square-difference-test" class="nav-link" data-scroll-target="#model-comparison-using-the-chi-square-difference-test">Model Comparison using the Chi-square difference test</a></li>
  <li><a href="#looking-at-local-fit-per-group" id="toc-looking-at-local-fit-per-group" class="nav-link" data-scroll-target="#looking-at-local-fit-per-group">Looking at local fit per group</a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><span class="header-section-number">4.12</span> Summary</a></li>
  <li><a href="#bonus-1-testing-the-equivalence-of-specific-direct-and-indirect-effects" id="toc-bonus-1-testing-the-equivalence-of-specific-direct-and-indirect-effects" class="nav-link" data-scroll-target="#bonus-1-testing-the-equivalence-of-specific-direct-and-indirect-effects"><span class="header-section-number">4.13</span> Bonus 1: Testing the equivalence of specific direct and indirect effects</a></li>
  <li><a href="#bonus-2-modification-indices" id="toc-bonus-2-modification-indices" class="nav-link" data-scroll-target="#bonus-2-modification-indices"><span class="header-section-number">4.14</span> Bonus 2: Modification Indices</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Model Evaluation and Comparison</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can download the R code used in this lab by right-clicking this link and selecting “Save Link As…” in the drop-down menu: <a href="https://winterstat.github.io/escp9710_rlabs/data/modelevaluation.R">modelevaluation.R</a></p>
</div>
</div>
<section id="loading-r-packages" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="loading-r-packages"><span class="header-section-number">4.1</span> Loading R Packages</h2>
<p>Load the required packages for this lab into your R environment:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rio)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lavaan)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(semTools)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(semhelpinghands)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="loading-data" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="loading-data"><span class="header-section-number">4.2</span> Loading Data</h2>
<p>Load the data into your environment. We will use the same data we’ve used in the previous Lab:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>meece <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="at">file =</span> <span class="st">"data/meece.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="model-1" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="model-1"><span class="header-section-number">4.3</span> Model 1</h2>
<section id="model-specification" class="level3">
<h3 class="anchored" data-anchor-id="model-specification">Model Specification</h3>
<p>Next, we will specify a bare bones model that aligns with the central hypotheses of the authors behind these data. We will take a model building approach. The central hypotheses are:</p>
<ol type="1">
<li>Science Attitudes affect Active Cognitive Engagement through the intermediate variable Ego-Social Goals</li>
<li>Intrinsic Motivation affects Active Cognitive Engagement through the intermediate variable Task Mastery Goals</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>mod1 <span class="ot">&lt;-</span> <span class="st">'</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="st">ActiveEn ~ b1*TaskMast + b2*EgoSoc</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="st">TaskMast ~ a1*IntMot</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="st">EgoSoc ~ a2*SciAtt</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="st">SciAtt ~~ IntMot</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="st"># indirect and total effect between IntMot &gt; AciveEn</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="st">im.tm.ind := a1*b1</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="st"># indirect effects between SciAtt &gt; AciveEn</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="st">sa.es.ind := a2*b2</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="st">'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>What are some additional theory-informed hypotheses we can list?</strong></p>
</section>
<section id="model-estimation" class="level3">
<h3 class="anchored" data-anchor-id="model-estimation">Model Estimation</h3>
<p>Some of the local fit options are not available when bootstrapping is used during estimation, so for now, we will estimate the model without bootstrapping. Effects that are defined after estimation (such as indirect effects) do not affect the fit of a model to the data, so this decision will not affect our model evaluation choices. Once the model evaluation process is complete, we can re-estimate the final model with bootstrapping.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>fit1 <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> mod1, <span class="at">data =</span> meece)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="model-evaluation" class="level3">
<h3 class="anchored" data-anchor-id="model-evaluation">Model Evaluation</h3>
<p>Here, we will follow the steps described in the textbook.</p>
<section id="global-fit" class="level4">
<h4 class="anchored" data-anchor-id="global-fit">Global Fit</h4>
<p>First, we will test the exact fit of the model to the data using the Chi-square model test. We can find this statistic by including <code>fit.measures = T</code> in the <code>summary()</code> function and finding the section labeled <code>Model Test User Model</code>. Note that I also set <code>estimates = F</code>, so that the parameter estimates are not included in the output (mostly to reduce the length of the output):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit1, <span class="at">fit.measures =</span> T, <span class="at">estimates =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6-19 ended normally after 18 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        10

  Number of observations                           256

Model Test User Model:
                                                      
  Test statistic                                56.448
  Degrees of freedom                                 5
  P-value (Chi-square)                           0.000

Model Test Baseline Model:

  Test statistic                               398.422
  Degrees of freedom                                10
  P-value                                        0.000

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.868
  Tucker-Lewis Index (TLI)                       0.735

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)               -828.169
  Loglikelihood unrestricted model (H1)       -799.945
                                                      
  Akaike (AIC)                                1676.338
  Bayesian (BIC)                              1711.790
  Sample-size adjusted Bayesian (SABIC)       1680.087

Root Mean Square Error of Approximation:

  RMSEA                                          0.200
  90 Percent confidence interval - lower         0.155
  90 Percent confidence interval - upper         0.249
  P-value H_0: RMSEA &lt;= 0.050                    0.000
  P-value H_0: RMSEA &gt;= 0.080                    1.000

Standardized Root Mean Square Residual:

  SRMR                                           0.094</code></pre>
</div>
</div>
<p><strong>What does the Chi-square test tell us about the exact fit of this model?</strong></p>
<p>Other fit indices that are reported here:</p>
<ul>
<li>Model Test Baseline Model: This is the Chi-square of the worst model, that is used to compute the CFI/TLI. This Chi-square should always be larger than the Model Test User Model.</li>
<li>CFI/TLI: Goodness-of-fit indices, values closer to 1 indicate better fit</li>
<li>Loglikelihood and Information Criteria: This information is used to compute the AIC and BIC (and SABIC), which help you compare non-nested models</li>
<li>Root Mean Square Error of Approximation: Badness-of-fit index, values closer to 0 indicate better fit. This section helps you use the 90% confidence interval to compute the p-value for H0: RMSEA is &lt;= .05 (if p &gt; .05, this indicates good fit) and H0 = RMSEA &gt;= .08 (if p &gt; .05, this indicates poor fit).</li>
<li>SRMR: Badness-of-fit index, values closer to 0 indicate better fit.</li>
</ul>
</section>
<section id="local-fit" class="level4">
<h4 class="anchored" data-anchor-id="local-fit">Local Fit</h4>
<p>To identify where the friction between the data and the model might be, we can look at local fit using the covariance residuals. It can be helpful to compare results across different methods:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">residuals</span>(fit1, <span class="at">type =</span> <span class="st">"standardized"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$type
[1] "standardized"

$cov
         ActvEn TskMst EgoSoc IntMot SciAtt
ActiveEn  2.905                            
TaskMast  2.905  0.000                     
EgoSoc    2.905  2.905  0.000              
IntMot    1.658  0.000 -2.346  0.000       
SciAtt    3.026  4.630  0.000  0.000  0.000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">residuals</span>(fit1, <span class="at">type =</span> <span class="st">"normalized"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$type
[1] "normalized"

$cov
         ActvEn TskMst EgoSoc IntMot SciAtt
ActiveEn  0.311                            
TaskMast  0.263  0.000                     
EgoSoc    1.779  2.635  0.000              
IntMot    0.971  0.000 -1.908  0.000       
SciAtt    2.303  3.208  0.000  0.000  0.000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">residuals</span>(fit1, <span class="at">type =</span> <span class="st">"cor.bollen"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$type
[1] "cor.bollen"

$cov
         ActvEn TskMst EgoSoc IntMot SciAtt
ActiveEn  0.000                            
TaskMast  0.011  0.000                     
EgoSoc    0.112  0.166  0.000              
IntMot    0.060  0.000 -0.122  0.000       
SciAtt    0.148  0.222  0.000  0.000  0.000</code></pre>
</div>
</div>
<p><strong>What patterns can you see in the covariance residuals? What path could we add to the model?</strong></p>
</section>
</section>
</section>
<section id="model-2" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="model-2"><span class="header-section-number">4.4</span> Model 2</h2>
<section id="model-respecification" class="level3">
<h3 class="anchored" data-anchor-id="model-respecification">Model Respecification</h3>
<p>Lets add the hypothesis that Task Mastery Goals and Ego-Social Goals are correlated/associated</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>mod2 <span class="ot">&lt;-</span> <span class="st">'</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="st">ActiveEn ~ b1*TaskMast + b2*EgoSoc</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="st">TaskMast ~ a1*IntMot</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="st">EgoSoc ~ a2*SciAtt</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="st">TaskMast ~~ EgoSoc</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="st">SciAtt ~~ IntMot</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="st"># indirect and total effect between IntMot &gt; AciveEn</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="st">im.tm.ind := a1*b1</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="st"># indirect effects between SciAtt &gt; AciveEn</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="st">sa.es.ind := a2*b2</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="st">'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can estimate the model and save it in <code>fit2</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>fit2 <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> mod2, <span class="at">data =</span> meece)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="model-evaluation-1" class="level3">
<h3 class="anchored" data-anchor-id="model-evaluation-1">Model Evaluation</h3>
<p>We will use the same sources of information to evaluate the fit of this modified model.</p>
<section id="global-fit-1" class="level4">
<h4 class="anchored" data-anchor-id="global-fit-1">Global Fit</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit2, <span class="at">fit.measures =</span> T,  <span class="at">estimates =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6-19 ended normally after 24 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        11

  Number of observations                           256

Model Test User Model:
                                                      
  Test statistic                                32.567
  Degrees of freedom                                 4
  P-value (Chi-square)                           0.000

Model Test Baseline Model:

  Test statistic                               398.422
  Degrees of freedom                                10
  P-value                                        0.000

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.926
  Tucker-Lewis Index (TLI)                       0.816

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)               -816.229
  Loglikelihood unrestricted model (H1)       -799.945
                                                      
  Akaike (AIC)                                1654.457
  Bayesian (BIC)                              1693.454
  Sample-size adjusted Bayesian (SABIC)       1658.581

Root Mean Square Error of Approximation:

  RMSEA                                          0.167
  90 Percent confidence interval - lower         0.117
  90 Percent confidence interval - upper         0.222
  P-value H_0: RMSEA &lt;= 0.050                    0.000
  P-value H_0: RMSEA &gt;= 0.080                    0.997

Standardized Root Mean Square Residual:

  SRMR                                           0.080</code></pre>
</div>
</div>
<p><strong>What does the Chi-square test tell us about the exact fit of this model?</strong></p>
</section>
<section id="local-fit-1" class="level4">
<h4 class="anchored" data-anchor-id="local-fit-1">Local Fit</h4>
<p>We can examine to what extend the added covariance between Task Mastery and Ego-Social Goals has resolved the local fit issues (only showing one method here):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">residuals</span>(fit2, <span class="at">type =</span> <span class="st">"cor.bollen"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$type
[1] "cor.bollen"

$cov
         ActvEn TskMst EgoSoc IntMot SciAtt
ActiveEn  0.000                            
TaskMast -0.009  0.000                     
EgoSoc   -0.054 -0.078  0.000              
IntMot    0.058 -0.017 -0.083  0.000       
SciAtt    0.153  0.213  0.069  0.000  0.000</code></pre>
</div>
</div>
<p><strong>What patterns can you see in the covariance residuals? What path could we add to the model?</strong></p>
</section>
</section>
</section>
<section id="model-comparison-of-model-1-and-model-2" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="model-comparison-of-model-1-and-model-2"><span class="header-section-number">4.5</span> Model Comparison of Model 1 and Model 2</h2>
<p>We can also use the Chi-square difference test to compare the original and modified model to each other. Here, the original model is more constraint and the modified model is less constraint. The Chi-square difference test, tests the Null hypothesis: Chi-square constrained == Chi-square free.</p>
<ul>
<li>If the Chi-square difference test is significant, it means that the contrained model fits the data worse than the free model, which means that adding the additional path helped us improve the global fit.</li>
<li>If the Chi-square difference test is not significant, it means that the constrained mode fits the data equally well as the free model, which means that adding the additional path did not improve model fit.</li>
</ul>
<p>To ensure that our models are nested, we use the <code>net()</code> function from the <code>semTools</code> package. This function checks if two models are nested and if two models are equivalent:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">net</span>(fit1, fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
        If cell [R, C] is TRUE, the model in row R is nested within column C.

        If the models also have the same degrees of freedom, they are equivalent.

        NA indicates the model in column C did not converge when fit to the
        implied means and covariance matrix from the model in row R.

        The hidden diagonal is TRUE because any model is equivalent to itself.
        The upper triangle is hidden because for models with the same degrees
        of freedom, cell [C, R] == cell [R, C].  For all models with different
        degrees of freedom, the upper diagonal is all FALSE because models with
        fewer degrees of freedom (i.e., more parameters) cannot be nested
        within models with more degrees of freedom (i.e., fewer parameters).
        
              fit2 fit1
fit2 (df = 4)          
fit1 (df = 5) TRUE     </code></pre>
</div>
</div>
<p>Next, we can use the <code>compareFit()</code> function from the <code>semTools</code> package to compare the models using the Chi-square difference test:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>comp12 <span class="ot">&lt;-</span> <span class="fu">compareFit</span>(fit1, fit2)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(comp12)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>################### Nested Model Comparison #########################

Chi-Squared Difference Test

     Df    AIC    BIC  Chisq Chisq diff   RMSEA Df diff Pr(&gt;Chisq)    
fit2  4 1654.5 1693.5 32.568                                          
fit1  5 1676.3 1711.8 56.448     23.881 0.29896       1  1.025e-06 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

####################### Model Fit Indices ###########################
       chisq df pvalue rmsea   cfi   tli  srmr       aic       bic
fit2 32.567†  4   .000 .167† .926† .816† .080† 1654.457† 1693.454†
fit1 56.448   5   .000 .200  .868  .735  .094  1676.338  1711.790 

################## Differences in Fit Indices #######################
            df rmsea    cfi    tli  srmr    aic    bic
fit1 - fit2  1 0.033 -0.059 -0.081 0.014 21.881 18.336</code></pre>
</div>
</div>
<p><strong>Does the modified model result in an improvement in global fit?</strong></p>
</section>
<section id="model-3" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="model-3"><span class="header-section-number">4.6</span> Model 3</h2>
<section id="model-respecification-1" class="level3">
<h3 class="anchored" data-anchor-id="model-respecification-1">Model Respecification</h3>
<p>We can keep building out model by including a path from Science Attitudes to Task Mastery Goals, which means that we hypothesize that Science Attitudes indirectly affect Active Cognitive Engagement through both Ego-Social and Task Mastery Goals.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>mod3 <span class="ot">&lt;-</span> <span class="st">'</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="st">ActiveEn ~ b1*TaskMast + b2*EgoSoc</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="st">TaskMast ~ a1*IntMot + a3*SciAtt</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="st">EgoSoc ~ a2*SciAtt</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="st">TaskMast ~~ EgoSoc</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="st">SciAtt ~~ IntMot</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="st"># indirect and total effect between IntMot &gt; AciveEn</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="st">im.tm.ind := a1*b1</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="st"># indirect effects between SciAtt &gt; AciveEn</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="st">sa.es.ind := a2*b2</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="st">sa.tm.ind := a3*b1</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a><span class="st">sa.total.ind := (a2*b2) + (a3*b1)</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a><span class="st">'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can estimate the model and save it in <code>fit3</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>fit3 <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> mod3, <span class="at">data =</span> meece)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="model-evaluation-2" class="level3">
<h3 class="anchored" data-anchor-id="model-evaluation-2">Model Evaluation</h3>
<p>We will use the same sources of information to evaluate the fit of this modified model.</p>
<section id="global-fit-2" class="level4">
<h4 class="anchored" data-anchor-id="global-fit-2">Global Fit</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit3, <span class="at">fit.measures =</span> T, <span class="at">estimates =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6-19 ended normally after 23 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        12

  Number of observations                           256

Model Test User Model:
                                                      
  Test statistic                                11.194
  Degrees of freedom                                 3
  P-value (Chi-square)                           0.011

Model Test Baseline Model:

  Test statistic                               398.422
  Degrees of freedom                                10
  P-value                                        0.000

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.979
  Tucker-Lewis Index (TLI)                       0.930

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)               -805.542
  Loglikelihood unrestricted model (H1)       -799.945
                                                      
  Akaike (AIC)                                1635.084
  Bayesian (BIC)                              1677.626
  Sample-size adjusted Bayesian (SABIC)       1639.583

Root Mean Square Error of Approximation:

  RMSEA                                          0.103
  90 Percent confidence interval - lower         0.044
  90 Percent confidence interval - upper         0.171
  P-value H_0: RMSEA &lt;= 0.050                    0.067
  P-value H_0: RMSEA &gt;= 0.080                    0.775

Standardized Root Mean Square Residual:

  SRMR                                           0.037</code></pre>
</div>
</div>
<p><strong>What does the Chi-square test tell us about the exact fit of this model?</strong></p>
</section>
<section id="local-fit-2" class="level4">
<h4 class="anchored" data-anchor-id="local-fit-2">Local Fit</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">residuals</span>(fit3, <span class="at">type =</span> <span class="st">"cor.bollen"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$type
[1] "cor.bollen"

$cov
         ActvEn TskMst EgoSoc IntMot SciAtt
ActiveEn  0.000                            
TaskMast -0.006  0.000                     
EgoSoc   -0.025 -0.037  0.000              
IntMot    0.047 -0.025 -0.122  0.000       
SciAtt    0.001  0.004  0.000  0.000  0.000</code></pre>
</div>
</div>
<p><strong>What patterns can you see in the covariance residuals? What path could we add to the model?</strong></p>
</section>
</section>
</section>
<section id="model-comparison-of-model-2-and-model-3" class="level2" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="model-comparison-of-model-2-and-model-3"><span class="header-section-number">4.7</span> Model Comparison of Model 2 and Model 3</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>comp23 <span class="ot">&lt;-</span> <span class="fu">compareFit</span>(fit3, fit2)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(comp23)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>################### Nested Model Comparison #########################

Chi-Squared Difference Test

     Df    AIC    BIC  Chisq Chisq diff  RMSEA Df diff Pr(&gt;Chisq)    
fit3  3 1635.1 1677.6 11.194                                         
fit2  4 1654.5 1693.5 32.568     21.373 0.2821       1   3.78e-06 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

####################### Model Fit Indices ###########################
       chisq df pvalue rmsea   cfi   tli  srmr       aic       bic
fit3 11.194†  3   .011 .103† .979† .930† .037† 1635.084† 1677.626†
fit2 32.567   4   .000 .167  .926  .816  .080  1654.457  1693.454 

################## Differences in Fit Indices #######################
            df rmsea    cfi    tli  srmr    aic    bic
fit2 - fit3  1 0.064 -0.052 -0.114 0.043 19.373 15.828</code></pre>
</div>
</div>
<p><strong>Does the modified model result in an improvement in global fit?</strong></p>
</section>
<section id="model-4" class="level2" data-number="4.8">
<h2 data-number="4.8" class="anchored" data-anchor-id="model-4"><span class="header-section-number">4.8</span> Model 4</h2>
<section id="model-respecification-2" class="level3">
<h3 class="anchored" data-anchor-id="model-respecification-2">Model Respecification</h3>
<p>Lets add the path from Intrinsic Motivation to Ego-Social Goals, which matches the hypothesis that Intrinsic Motivation indirectly affects Cognitive Engagement through both Task Mastery and Ego-Social Goals:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>mod4 <span class="ot">&lt;-</span> <span class="st">'</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="st">ActiveEn ~ b1*TaskMast + b2*EgoSoc</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="st">TaskMast ~ a1*IntMot + a3*SciAtt</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="st">EgoSoc ~ a2*SciAtt + a4*IntMot</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="st">TaskMast ~~ EgoSoc</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="st">SciAtt ~~ IntMot</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="st"># indirect and total effect between IntMot &gt; AciveEn</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="st">im.tm.ind := a1*b1</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="st">im.es.ind := a4*b1</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a><span class="st">im.total.ind := (a1*b1) + (a4*b1)</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="st"># indirect effects between SciAtt &gt; AciveEn</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a><span class="st">sa.es.ind := a2*b2</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a><span class="st">sa.tm.ind := a3*b1</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a><span class="st">sa.total.ind := (a2*b2) + (a3*b1)</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a><span class="st">'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can estimate the model and save it in <code>fit4</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>fit4 <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> mod4, <span class="at">data =</span> meece)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="model-evaluation-3" class="level3">
<h3 class="anchored" data-anchor-id="model-evaluation-3">Model Evaluation</h3>
<p>We will use the same sources of information to evaluate the fit of this modified model.</p>
<section id="global-fit-3" class="level4">
<h4 class="anchored" data-anchor-id="global-fit-3">Global Fit</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit4, <span class="at">fit.measures =</span> T, <span class="at">estimates =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6-19 ended normally after 23 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        13

  Number of observations                           256

Model Test User Model:
                                                      
  Test statistic                                 5.506
  Degrees of freedom                                 2
  P-value (Chi-square)                           0.064

Model Test Baseline Model:

  Test statistic                               398.422
  Degrees of freedom                                10
  P-value                                        0.000

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.991
  Tucker-Lewis Index (TLI)                       0.955

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)               -802.698
  Loglikelihood unrestricted model (H1)       -799.945
                                                      
  Akaike (AIC)                                1631.396
  Bayesian (BIC)                              1677.483
  Sample-size adjusted Bayesian (SABIC)       1636.270

Root Mean Square Error of Approximation:

  RMSEA                                          0.083
  90 Percent confidence interval - lower         0.000
  90 Percent confidence interval - upper         0.169
  P-value H_0: RMSEA &lt;= 0.050                    0.186
  P-value H_0: RMSEA &gt;= 0.080                    0.612

Standardized Root Mean Square Residual:

  SRMR                                           0.021</code></pre>
</div>
</div>
<p><strong>What does the Chi-square test tell us about the exact fit of this model?</strong></p>
</section>
<section id="local-fit-3" class="level4">
<h4 class="anchored" data-anchor-id="local-fit-3">Local Fit</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">residuals</span>(fit4, <span class="at">type =</span> <span class="st">"cor.bollen"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$type
[1] "cor.bollen"

$cov
         ActvEn TskMst EgoSoc IntMot SciAtt
ActiveEn  0.000                            
TaskMast  0.000  0.000                     
EgoSoc    0.000  0.000  0.000              
IntMot    0.079  0.000  0.000  0.000       
SciAtt   -0.002  0.000  0.000  0.000  0.000</code></pre>
</div>
</div>
<p><strong>What patterns can you see in the covariance residuals? What path could we add to the model?</strong></p>
</section>
</section>
</section>
<section id="model-comparison-of-model-3-and-model-4" class="level2" data-number="4.9">
<h2 data-number="4.9" class="anchored" data-anchor-id="model-comparison-of-model-3-and-model-4"><span class="header-section-number">4.9</span> Model Comparison of Model 3 and Model 4</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>comp34 <span class="ot">&lt;-</span> <span class="fu">compareFit</span>(fit3, fit4)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(comp34)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>################### Nested Model Comparison #########################

Chi-Squared Difference Test

     Df    AIC    BIC   Chisq Chisq diff   RMSEA Df diff Pr(&gt;Chisq)  
fit4  2 1631.4 1677.5  5.5063                                        
fit3  3 1635.1 1677.6 11.1941     5.6878 0.13532       1    0.01708 *
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

####################### Model Fit Indices ###########################
       chisq df pvalue rmsea   cfi   tli  srmr       aic       bic
fit4  5.506†  2   .064 .083† .991† .955† .021† 1631.396† 1677.483†
fit3 11.194   3   .011 .103  .979  .930  .037  1635.084  1677.626 

################## Differences in Fit Indices #######################
            df rmsea    cfi    tli  srmr   aic   bic
fit3 - fit4  1 0.021 -0.012 -0.025 0.017 3.688 0.143</code></pre>
</div>
</div>
<p><strong>Does the modified model result in an improvement in global fit?</strong></p>
</section>
<section id="parameter-estimate-interpretation" class="level2" data-number="4.10">
<h2 data-number="4.10" class="anchored" data-anchor-id="parameter-estimate-interpretation"><span class="header-section-number">4.10</span> Parameter Estimate Interpretation</h2>
<p>Typically, you would look at the estimates of newly added paths at each step of the model building process, to ensure that the estimates align with theoretical expectations. Here, we kind of skipped that, but we will take a quick look now. Please refer back to the Indirect Effects R Lab to read more about interpreting indirect effects.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>fit4 <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> mod4, <span class="at">data =</span> meece,</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">se =</span> <span class="st">"bootstrap"</span>, <span class="at">bootstrap =</span> <span class="dv">1000</span>,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">iseed =</span> <span class="dv">8789</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>First, we can look at the (unstandardized) parameter estimates:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">parameterEstimates</span>(fit4, <span class="at">boot.ci.type =</span> <span class="st">"bca.simple"</span>, </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">ci =</span> <span class="cn">TRUE</span>, <span class="at">se =</span> <span class="cn">TRUE</span>, </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">zstat =</span> <span class="cn">FALSE</span>, <span class="at">pvalue =</span> <span class="cn">FALSE</span>,</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">output =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Regressions:
                   Estimate  Std.Err ci.lower ci.upper
  ActiveEn ~                                          
    TaskMast  (b1)    0.499    0.035    0.430    0.572
    EgoSoc    (b2)    0.056    0.022    0.012    0.099
  TaskMast ~                                          
    IntMot    (a1)    0.248    0.064    0.128    0.372
    SciAtt    (a3)    0.255    0.051    0.153    0.358
  EgoSoc ~                                            
    SciAtt    (a2)   -0.050    0.086   -0.214    0.126
    IntMot    (a4)   -0.246    0.104   -0.454   -0.036

Covariances:
                   Estimate  Std.Err ci.lower ci.upper
 .TaskMast ~~                                         
   .EgoSoc            0.083    0.017    0.049    0.120
  IntMot ~~                                           
    SciAtt            0.184    0.024    0.138    0.238

Variances:
                   Estimate  Std.Err ci.lower ci.upper
   .ActiveEn          0.060    0.005    0.052    0.073
   .TaskMast          0.164    0.014    0.137    0.192
   .EgoSoc            0.537    0.046    0.458    0.641
    IntMot            0.290    0.024    0.249    0.343
    SciAtt            0.371    0.032    0.312    0.441

Defined Parameters:
                   Estimate  Std.Err ci.lower ci.upper
    im.tm.ind         0.124    0.035    0.058    0.195
    im.es.ind        -0.123    0.052   -0.229   -0.021
    im.total.ind      0.001    0.068   -0.134    0.133
    sa.es.ind        -0.003    0.005   -0.016    0.006
    sa.tm.ind         0.127    0.025    0.078    0.178
    sa.total.ind      0.124    0.027    0.071    0.178</code></pre>
</div>
</div>
<p>Even though our model fits the data well, we can see that the path from Science Attitudes to Ego-Social Goals (which was part of our theoretical model at the start of all this), is not significant. We might want to explore if model trimming (i.e., removing this path) does not affect the overall model fit. However, since this path was so central to our theory, we would ideally want to collect another sample and test if the trimmed model can be replicated.</p>
<p>Another piece of output that we can examine are the R-squared estimates for each endogenous variable in the model. These represent the proportion of variance in the endogenous variables that can be explained by the predictors in the model. Remember, a well-fitting model can have endogenous variables with low R-squareds. This is because the model-implied variances include both the explained (R-squared) and unexplained/error (1 - R-squared) variance. Thus, a model can fit well as long as the model closely predicts the total variance in the endogenous variables, even if a large part of that variance is unexplained/error.</p>
<p>We can use <code>lavInspect()</code> to get the R-squared estimates:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lavInspect</span>(fit4, <span class="at">what =</span> <span class="st">"rsquare"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>ActiveEn TaskMast   EgoSoc 
   0.504    0.284    0.041 </code></pre>
</div>
</div>
<p><strong>For which endogenous variable does the model result in the largest unexplained/error variance?</strong></p>
</section>
<section id="comparing-groups" class="level2" data-number="4.11">
<h2 data-number="4.11" class="anchored" data-anchor-id="comparing-groups"><span class="header-section-number">4.11</span> Comparing groups</h2>
<p>Next, we will look at a special use of model evaluation and comparison: multiple group path model. We will learn how to compare the same model across different groups. For that purpose, lets pretend that the <code>meece</code> study was repeated for a sample of high school students (the original sample are middle school students). These data are saved in <code>data_meece2.csv</code>.</p>
<p>You can download the data by right-clicking this link and selecting “Save Link As…” in the drop-down menu: <a href="https://winterstat.github.io/escp8082_rlabs/data/meece2.csv">data/meece2.csv</a>. Make sure to save it in the folder you are using for this class.</p>
<p>We will add a <code>sample</code> variable to each data frame and then combine the two data frames together:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>meece2 <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"data/meece2.csv"</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create group variable for each dataset</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>meece<span class="sc">$</span>sample <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>meece2<span class="sc">$</span>sample <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine two groups into one dataframe</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>meece_all <span class="ot">&lt;-</span> <span class="fu">rbind</span>(meece, meece2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For this example, we will estimate a simplified version of the model we’ve been working on so far, by only including Intrinsic Motivation as an exogenous variable. Compared to the single-group analysis model, we need to make some adjustments to the multiple-group scenario, specifically in how we label variables.</p>
<p>We initially start with a model in which all paths are estimated separately for each group. Now, each path needs a label for each group, and we use <code>c()</code> to list these labels for each path. For example, for the path from Task Mastery to Active Engagement, we use <code>c(b1.g1, b1.g2)</code>. We also need to define indirect (and if present total) effects for each group separately.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>mod_g1 <span class="ot">&lt;-</span> <span class="st">'</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="st">ActiveEn ~ c(b1.g1, b1.g2)*TaskMast + c(b2.g1, b2.g2)*EgoSoc</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="st">TaskMast ~ c(a1.g1, a1.g2)*IntMot</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="st">EgoSoc ~ c(a2.g1, a2.g2)*IntMot</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="st">TaskMast ~~ EgoSoc</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a><span class="st"># Group = 1</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="st"># indirect and total effect between IntMot &gt; AciveEn</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a><span class="st">im.tm.ind.g1 := a1.g1*b1.g1</span></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a><span class="st">im.es.ind.g1 := a2.g1*b2.g1</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a><span class="st">im.total.ind.g1 := (a1.g1*b1.g1) + (a2.g1*b2.g1)</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a><span class="st"># Group = 2</span></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a><span class="st"># indirect and total effect between IntMot &gt; AciveEn</span></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a><span class="st">im.tm.ind.g2 := a1.g2*b1.g2</span></span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a><span class="st">im.es.ind.g2 := a2.g2*b2.g2</span></span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a><span class="st">im.total.ind.g2 := (a1.g2*b1.g2) + (a2.g2*b2.g2)</span></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a><span class="st">'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When we estimate this model, we need to tell <code>lavaan</code> what variable contains the group assignment for each participant by adding <code>group = "group"</code>. In your data, your group variable might have a different name. Again, we’re going to skip bootstrapping because I am focused on demonstrating how you can compare estimates across groups using the Chi-square difference test:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>fit_g1 <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> mod_g1, <span class="at">data =</span> meece_all, <span class="at">group =</span> <span class="st">"sample"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you use the <code>summary()</code> function, you will get parameter estimates per group, printed out sequentially. For complex models, this can result in a very long output object:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit_g1, <span class="at">fit.measures =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6-19 ended normally after 42 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        22

  Number of observations per group:                   
    1                                              256
    2                                              256

Model Test User Model:
                                                      
  Test statistic                                15.190
  Degrees of freedom                                 2
  P-value (Chi-square)                           0.001
  Test statistic for each group:
    1                                            4.571
    2                                           10.620

Model Test Baseline Model:

  Test statistic                               493.713
  Degrees of freedom                                12
  P-value                                        0.000

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.973
  Tucker-Lewis Index (TLI)                       0.836

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)               -851.940
  Loglikelihood unrestricted model (H1)       -844.345
                                                      
  Akaike (AIC)                                1747.881
  Bayesian (BIC)                              1841.124
  Sample-size adjusted Bayesian (SABIC)       1771.292

Root Mean Square Error of Approximation:

  RMSEA                                          0.161
  90 Percent confidence interval - lower         0.092
  90 Percent confidence interval - upper         0.240
  P-value H_0: RMSEA &lt;= 0.050                    0.006
  P-value H_0: RMSEA &gt;= 0.080                    0.971

Standardized Root Mean Square Residual:

  SRMR                                           0.029

Parameter Estimates:

  Standard errors                             Standard
  Information                                 Expected
  Information saturated (h1) model          Structured


Group 1 [1]:

Regressions:
                   Estimate  Std.Err  z-value  P(&gt;|z|)
  ActiveEn ~                                          
    TaskMst (b1.1)    0.499    0.032   15.420    0.000
    EgoSoc  (b2.1)    0.056    0.021    2.728    0.006
  TaskMast ~                                          
    IntMot  (a1.1)    0.409    0.049    8.289    0.000
  EgoSoc ~                                            
    IntMot  (a2.1)   -0.278    0.085   -3.266    0.001

Covariances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)
 .TaskMast ~~                                         
   .EgoSoc            0.080    0.020    3.956    0.000

Intercepts:
                   Estimate  Std.Err  z-value  P(&gt;|z|)
   .ActiveEn          0.523    0.111    4.735    0.000
   .TaskMast          2.035    0.143   14.221    0.000
   .EgoSoc            3.272    0.247   13.262    0.000

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)
   .ActiveEn          0.060    0.005   11.314    0.000
   .TaskMast          0.181    0.016   11.314    0.000
   .EgoSoc            0.538    0.048   11.314    0.000


Group 2 [2]:

Regressions:
                   Estimate  Std.Err  z-value  P(&gt;|z|)
  ActiveEn ~                                          
    TaskMst (b1.2)    0.269    0.031    8.632    0.000
    EgoSoc  (b2.2)    0.195    0.020    9.621    0.000
  TaskMast ~                                          
    IntMot  (a1.2)    0.373    0.053    7.095    0.000
  EgoSoc ~                                            
    IntMot  (a2.2)   -0.268    0.087   -3.090    0.002

Covariances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)
 .TaskMast ~~                                         
   .EgoSoc            0.071    0.021    3.450    0.001

Intercepts:
                   Estimate  Std.Err  z-value  P(&gt;|z|)
   .ActiveEn          0.538    0.107    5.043    0.000
   .TaskMast          2.137    0.151   14.132    0.000
   .EgoSoc            3.201    0.250   12.823    0.000

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)
   .ActiveEn          0.057    0.005   11.314    0.000
   .TaskMast          0.196    0.017   11.314    0.000
   .EgoSoc            0.533    0.047   11.314    0.000

Defined Parameters:
                   Estimate  Std.Err  z-value  P(&gt;|z|)
    im.tm.ind.g1      0.204    0.028    7.301    0.000
    im.es.ind.g1     -0.016    0.007   -2.094    0.036
    im.total.nd.g1    0.188    0.030    6.219    0.000
    im.tm.ind.g2      0.100    0.018    5.481    0.000
    im.es.ind.g2     -0.052    0.018   -2.942    0.003
    im.total.nd.g2    0.048    0.028    1.728    0.084</code></pre>
</div>
</div>
<p>You can also use the <code>group_by_groups()</code> function from the <code>semhelpinghands</code> package to get a quick overview of just the parameter estimates to see if there are any that appear particularly different:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by_groups</span>(fit_g1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        lhs op      rhs  est_1  est_2
1  ActiveEn  ~   EgoSoc  0.056  0.195
2  ActiveEn  ~ TaskMast  0.499  0.269
3    EgoSoc  ~   IntMot -0.278 -0.268
4  TaskMast  ~   IntMot  0.409  0.373
5  ActiveEn ~~ ActiveEn  0.060  0.057
6    EgoSoc ~~   EgoSoc  0.538  0.533
7    IntMot ~~   IntMot  0.290  0.276
8  TaskMast ~~   EgoSoc  0.080  0.071
9  TaskMast ~~ TaskMast  0.181  0.196
10 ActiveEn ~1           0.523  0.538
11   EgoSoc ~1           3.272  3.201
12   IntMot ~1           2.850  2.828
13 TaskMast ~1           2.035  2.137</code></pre>
</div>
</div>
<p><strong>Are there any estimates that look like they might differ across groups?</strong></p>
<p>Note that multiple group analyses include the variable means/intercepts as well, which are denoted with e.g., <code>ActiveEn ~ 1</code>. This means we can also test if the groups have equivalent average levels of the variables (where for endogenous variables, this is actually the intercept, or the expected value when all predictors equal 0).</p>
<section id="specifying-a-more-restrictive-model" class="level3">
<h3 class="anchored" data-anchor-id="specifying-a-more-restrictive-model">Specifying a More Restrictive Model</h3>
<p>To restrict certain parameters to be equivalent across groups, we need to assign the same label to the parameter in both groups. For example, the label of the path from Task Mastery to Active Engagement is now <code>c(b1, b1)</code>. We might do this if we want to test the Null hypothesis of no group difference in the strength of an association between two variables. In this case, we might want to see if our new sample replicates the findings found in the original sample.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>mod_g2 <span class="ot">&lt;-</span> <span class="st">'</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="st">ActiveEn ~ c(b1, b1)*TaskMast + c(b2, b2)*EgoSoc</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="st">TaskMast ~ c(a1, a1)*IntMot</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="st">EgoSoc ~ c(a2, a2)*IntMot</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a><span class="st">TaskMast ~~ EgoSoc</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a><span class="st"># Group = 1 and 2 because no separate effects</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a><span class="st"># indirect and total effect between IntMot &gt; AciveEn</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a><span class="st">im.tm.ind.g1 := a1*b1</span></span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a><span class="st">im.es.ind.g1 := a2*b2</span></span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a><span class="st">im.total.ind.g1 := (a1*b1) + (a2*b2)</span></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a><span class="st">'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When estimating this model, you still need to include <code>group = "sample"</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>fit_g2 <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> mod_g2, <span class="at">data =</span> meece_all, <span class="at">group =</span> <span class="st">"sample"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When we look at the <code>group_by_groups</code> output, all the regression estimates should be equivalent across groups. They are estimated as though they are one parameter (instead of two, one per group). You can see the difference reflected in the degrees of freedom, which are much higher for this (more constrained) model:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">group_by_groups</span>(fit_g2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        lhs op      rhs  est_1  est_2
1  ActiveEn  ~   EgoSoc  0.128  0.128
2  ActiveEn  ~ TaskMast  0.379  0.379
3    EgoSoc  ~   IntMot -0.274 -0.274
4  TaskMast  ~   IntMot  0.392  0.392
5  ActiveEn ~~ ActiveEn  0.066  0.062
6    EgoSoc ~~   EgoSoc  0.538  0.533
7    IntMot ~~   IntMot  0.290  0.276
8  TaskMast ~~   EgoSoc  0.080  0.071
9  TaskMast ~~ TaskMast  0.181  0.196
10 ActiveEn ~1           0.730  0.351
11   EgoSoc ~1           3.259  3.216
12   IntMot ~1           2.850  2.828
13 TaskMast ~1           2.082  2.083</code></pre>
</div>
</div>
<p><strong>Are there parameters that are still estimated separately for each group?</strong></p>
</section>
<section id="model-comparison-using-the-chi-square-difference-test" class="level3">
<h3 class="anchored" data-anchor-id="model-comparison-using-the-chi-square-difference-test">Model Comparison using the Chi-square difference test</h3>
<p>We can use the Chi-square difference test to compare the two multiple group models. In this case, a significant Chi-square difference test would indicate that the restrictive model (where all regression paths are specified to be equivalent across groups) fits the data <em>worse</em> than the free model, implying that there are likely some differences between the groups in terms of the associations between variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>comp_g12 <span class="ot">&lt;-</span> <span class="fu">compareFit</span>(fit_g1, fit_g2)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(comp_g12)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>################### Nested Model Comparison #########################

Chi-Squared Difference Test

       Df    AIC    BIC  Chisq Chisq diff   RMSEA Df diff Pr(&gt;Chisq)    
fit_g1  2 1747.9 1841.1 15.190                                          
fit_g2  6 1782.0 1858.3 57.309     42.118 0.19294       4  1.577e-08 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

####################### Model Fit Indices ###########################
         chisq df pvalue rmsea   cfi   tli  srmr       aic       bic
fit_g1 15.190†  2   .001 .161† .973† .836† .029† 1747.881† 1841.124†
fit_g2 57.309   6   .000 .183  .893  .787  .071  1781.999  1858.289 

################## Differences in Fit Indices #######################
                df rmsea    cfi    tli  srmr    aic    bic
fit_g2 - fit_g1  4 0.022 -0.079 -0.049 0.042 34.118 17.165</code></pre>
</div>
</div>
<p><strong>What can we conclude based on the chi-square difference test?</strong></p>
</section>
<section id="looking-at-local-fit-per-group" class="level3">
<h3 class="anchored" data-anchor-id="looking-at-local-fit-per-group">Looking at local fit per group</h3>
<p>We can use information about the local fit for each group to identify variable pairs for which the model is fitting differently across groups. Here, we will only look at correlation residuals (in the interest of space):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">residuals</span>(fit_g2, <span class="at">type =</span> <span class="st">"cor"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`1`
$`1`$type
[1] "cor.bollen"

$`1`$cov
         ActvEn TskMst EgoSoc IntMot
ActiveEn  0.000                     
TaskMast  0.123  0.000              
EgoSoc   -0.149 -0.006  0.000       
IntMot    0.187  0.015 -0.003  0.000

$`1`$mean
ActiveEn TaskMast   EgoSoc   IntMot 
       0        0        0        0 


$`2`
$`2`$type
[1] "cor.bollen"

$`2`$cov
         ActvEn TskMst EgoSoc IntMot
ActiveEn  0.000                     
TaskMast -0.125  0.000              
EgoSoc    0.157  0.007  0.000       
IntMot    0.034 -0.017  0.004  0.000

$`2`$mean
ActiveEn TaskMast   EgoSoc   IntMot 
       0        0        0        0 </code></pre>
</div>
</div>
<p><strong>Do you see any inconsistencies in the pattern across groups?</strong></p>
</section>
</section>
<section id="summary" class="level2" data-number="4.12">
<h2 data-number="4.12" class="anchored" data-anchor-id="summary"><span class="header-section-number">4.12</span> Summary</h2>
<p>In this R lab, you were introduced to the steps involved in model evaluation and comparison, including using model comparison methods to compare multiple groups. Below, you’ll find two Bonus sections that demonstrate how to test whether specific direct or indirect effects are equivalent across groups and how to request and interpret modification indices. In the next R Lab, you will learn all about latent variables and confirmatory factor analysis, which will also require you to apply your knowledge of model evaluation and comparison.</p>
</section>
<section id="bonus-1-testing-the-equivalence-of-specific-direct-and-indirect-effects" class="level2" data-number="4.13">
<h2 data-number="4.13" class="anchored" data-anchor-id="bonus-1-testing-the-equivalence-of-specific-direct-and-indirect-effects"><span class="header-section-number">4.13</span> Bonus 1: Testing the equivalence of specific direct and indirect effects</h2>
<p>Sometimes, you may want to test the equivalence of specific paths, instead of groups of parameters as we did above. To do so, we can use the Wald test. For this comparison, we start with the unconstrained model (saved in <code>fit_g1</code>), in which all direct effects are estimated separately for each group. With the code below, we test if the direct effect from Task Mastery &gt; Active Engagement is equivalent across the two age groups:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lavTestWald</span>(fit_g1, <span class="at">constraints =</span> <span class="st">"b1.g1 == b1.g2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$stat
[1] 26.17973

$df
[1] 1

$p.value
[1] 3.110712e-07

$se
[1] "standard"</code></pre>
</div>
</div>
<p>The Wald test evaluates the Null hypothesis assigned to the constraints argument in the function. Here it tests the Null hypothesis that the two direct effects are equivalent across groups. Thus, a significant results (p &lt; .05) indicates that we should reject the null and conclude that there is evidence that the two direct effects are different.</p>
<p><strong>What would happen if we used the second model, in which all paths are constrained across groups, as input for the Wald test?</strong></p>
<p>Next, I will describe using the Wald test to test if the indirect effect is equivalent across groups. For this comparison, we again start with the unconstrained model (saved in <code>fit_g1</code>), in which all direct effects are estimated separately for each group. With the code below, we test if the indirect effect from Intrinsic Motivation &gt; Task Mastery &gt; Active Engagement is equivalent across the two age groups:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lavTestWald</span>(fit_g1, <span class="at">constraints =</span> <span class="st">"im.tm.ind.g1 == im.tm.ind.g2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$stat
[1] 9.62194

$df
[1] 1

$p.value
[1] 0.001922665

$se
[1] "standard"</code></pre>
</div>
</div>
<p>The Wald test evaluates the Null hypothesis assigned to the constraints argument in the function. Here it tests the Null hypothesis that the two indirect effects are equivalent. Thus, a significant results (p &lt; .05) indicates that we should reject the null and conclude that there is evidence that the two indirect effects are different.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that failing to reject the Wald test only tells us that the indirect effect is equivalent across the two groups. It could be possible that there are still differences in each of the (unconstrained) direct paths that make up the indirect effect. As a simple math example, the direct effect paths could be 4 and 5 for group 1 (indirect effect is 4x5 = 20), but 2 and 10 for group 2 (indirect effect is 2x10 = 20). Thus, it may also be important to test the equivalence of the direct effects.</p>
</div>
</div>
</section>
<section id="bonus-2-modification-indices" class="level2" data-number="4.14">
<h2 data-number="4.14" class="anchored" data-anchor-id="bonus-2-modification-indices"><span class="header-section-number">4.14</span> Bonus 2: Modification Indices</h2>
<p>Although I do not recommend relying purely on modification indices to guide your model building process, I do want you to know how to examine them. For this exercise, we will use our original model specification to see what kind of path the modification indices would have suggested. The <code>modificationindices()</code> function below requests modification indices that are at least 10 (indicating that Chi-square is expected to be lowered by 10 if the suggested parameter is added), by adding <code>minimum.value = 10</code> (this value is arbitrary, but can help you filter out modifications that only improve the Chi-square by a smidge). By including <code>.sort = TRUE</code>, the results will be sorted from largest modification index (biggest impact on model fit) to smallest.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">modificationIndices</span>(fit1, <span class="at">sort. =</span> <span class="cn">TRUE</span>, <span class="at">minimum.value =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        lhs op      rhs     mi    epc sepc.lv sepc.all sepc.nox
35   SciAtt  ~ TaskMast 23.398  0.358   0.358    0.282    0.282
19 TaskMast ~~   SciAtt 23.398  0.065   0.065    0.250    0.250
26 TaskMast  ~   SciAtt 23.398  0.255   0.255    0.324    0.324
18 TaskMast ~~   IntMot 23.398 -0.103  -0.103   -0.447   -0.447
31   IntMot  ~ TaskMast 23.398 -0.567  -0.567   -0.504   -0.504
17 TaskMast ~~   EgoSoc 21.223  0.091   0.091    0.288    0.288
25 TaskMast  ~   EgoSoc 16.102  0.143   0.143    0.223    0.223
28   EgoSoc  ~ TaskMast 10.876  0.330   0.330    0.211    0.211
27   EgoSoc  ~ ActiveEn 10.622  0.647   0.647    0.298    0.298</code></pre>
</div>
</div>
<p>Based on our restrictions, the algorithm identified 10 modifications. The first three columns of output show you what modification is suggested, the fourth column (<code>mi</code>) gives you the modification index and the final columns give you an idea of what the expected parameter change will be if that parameter is included in the model (can be useful if you want to know if it would result in a large effect size). Let’s look at them.</p>
<ul>
<li>The largest modification index suggests a path from Task Mastery Goals to Science Attitudes. This path is not in line with the theory that suggests that attitudes develop before goal orientations emerge. In addition, adding this path would turn Science Attitudes from exogenous to endogenous. In this new role, the covariance between Intrinsic Motivation and Science Attitudes would turn into a residual covariance, which violates one of the assumptions of path models.</li>
<li>The second to fifth modification indices are of the same magnitude as the first, but suggest very different associations. The second and third suggest that Task Mastery and Science attitudes should be allowed to covary, or that Science Attitudes should predict Task Mastery (this is a path we do end up including in a later modification). The fourth and fifth suggest that Task Mastery and Intrinsic Motivation should be associated through either a (residual) covariance or a directed path to Intrinsic Motivation. Each of these parameters would result in a non-recursive model with feedback loops.</li>
<li>Finally, the sixth modification index suggests the modification we made (based on theory): Add the covariance between Task Mastery and Ego-Social Goals. Although this modification does not result in the largest expected decline in the Chi-square, it is the first one that makes theoretical sense.</li>
</ul>
<p>I hope that this example helps illustrate how modification indices are entirely data driven and that many of the modifications will make no sense from a theoretical or statistical point of view.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./indirecteffects.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Indirect Effects</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./confirmatoryfactoranalysis.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Confirmatory Factor Analysis</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">Copyright 2025, Sonja D. Winter</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>